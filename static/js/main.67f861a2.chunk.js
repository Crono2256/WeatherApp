(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{13:function(e,a,t){},14:function(e,a,t){},15:function(e,a,t){"use strict";t.r(a);var s=t(0),c=t(1),n=t.n(c),r=t(3),i=t.n(r),h=(t(13),t(4)),l=t(5),o=t(7),d=t(6),u=function(e){var a=e.search,t=e.error,c=e.change,n=e.click,r=e.submit;return Object(s.jsxs)("form",{className:"search",onSubmit:r,children:[Object(s.jsx)("h3",{children:"Jakiego miasta szukasz ?"}),Object(s.jsx)("input",{type:"text",placeholder:"Podaj miasto...",value:a,onChange:c}),Object(s.jsx)("button",{className:"confirm",onClick:n,children:"Szukaj"}),t&&Object(s.jsx)("p",{className:"errorMsg",children:"Wyszukiwanie nie powiod\u0142o si\u0119. Spr\xf3buj jeszcze raz."})]})},j=function(e){var a=e.charts,t=a.city,c=a.time,n=a.temperature,r=a.pressure,i=a.wind,h=a.weather,l=(a.icon,{Clear:"fas fa-sun",Clouds:"fas fa-cloud",Mist:"fas fa-smog",Drizzle:"fas fa-cloud-rain",Rain:"fas fa-cloud-showers-heavy",Snow:"far fa-snowflake",Thunderstorm:"fas fa-bolt"});return Object(s.jsxs)("div",{className:"charts",children:[Object(s.jsxs)("div",{className:"main",children:[Object(s.jsx)("div",{className:"city chart",children:Object(s.jsx)("h3",{className:"data",children:t})}),Object(s.jsxs)("div",{className:"sub",children:[Object(s.jsx)("div",{className:"temperature chart",children:Object(s.jsxs)("span",{className:"data",children:[n,Object(s.jsx)("span",{className:"unit",children:"\xb0C"})]})}),Object(s.jsx)("div",{className:"weather chart",children:function(e){return l.hasOwnProperty(e)?Object(s.jsx)("i",{className:l[e]}):Object(s.jsx)("i",{className:"fas fa-cloud"})}(h)})]})]}),Object(s.jsxs)("div",{className:"other",children:[Object(s.jsxs)("div",{className:"time chart",children:[Object(s.jsx)("span",{className:"tag",children:"Data: "}),Object(s.jsx)("span",{className:"data",children:c})]}),Object(s.jsxs)("div",{className:"pressure chart",children:[Object(s.jsx)("span",{className:"tag",children:"Ci\u015bnienie: "}),Object(s.jsxs)("span",{className:"data",children:[r,Object(s.jsx)("span",{className:"unit",children:" hPa"})]})]}),Object(s.jsxs)("div",{className:"wind chart",children:[Object(s.jsx)("span",{className:"tag",children:"Pr\u0119dko\u015b\u0107 wiatru: "}),Object(s.jsxs)("span",{className:"data",children:[i,Object(s.jsx)("span",{className:"unit",children:" m/s"})]})]})]})]})},m=(t(14),"16ed9761819e51f4a5ecad833971e589"),p=function(e){Object(o.a)(t,e);var a=Object(d.a)(t);function t(){var e;Object(h.a)(this,t);for(var s=arguments.length,c=new Array(s),n=0;n<s;n++)c[n]=arguments[n];return(e=a.call.apply(a,[this].concat(c))).state={search:"Ostr\xf3da",activeItem:"main",charts:{city:"",country:"",time:"",temperature:"",pressure:"",wind:"",weather:""},error:""},e.handleInputChange=function(a){var t=a.target.value;e.setState({search:t})},e.handleButtonClick=function(a){e.setState({activeItem:"search"})},e.handleFormSubmit=function(e){e.preventDefault()},e.handleSearchConfirm=function(){fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(e.state.search,"&appid=").concat(m,"&units=metric")).then((function(e){if(e.ok)return e;throw Error(e.status)})).then((function(e){return e.json()})).then((function(a){console.log(a);var t=(new Date).toISOString(),s=t.substr(0,10)+" "+t.substr(11,5),c=a.weather[0].main;["Mist","Smoke","Haze","Dust","Fog","Sand","Ash","Squall","Tornado"].includes(c)&&(c="Mist"),e.setState({charts:{city:a.name,time:s,temperature:Math.round(a.main.temp),pressure:a.main.pressure,wind:a.wind.speed,weather:c},activeItem:"main",error:null})})).catch((function(a){console.log("B\u0142\u0105d podczas pobierania danych. "+a),e.setState({error:a})}))},e}return Object(l.a)(t,[{key:"componentDidMount",value:function(){this.handleSearchConfirm()}},{key:"render",value:function(){var e=this.state.charts.weather,a={Clear:"blue-sky.jpg",Clouds:"clouds.jpg",Mist:"mist.jpg",Drizzle:"drizzle.jpg",Rain:"rain.jpeg",Snow:"snow.jpg",Thunderstorm:"storm.jpg"};var t={backgroundImage:"url(".concat("/WeatherApp","/images/").concat(function(e){return console.log("bg change"),a.hasOwnProperty(e)?a[e]:"blue-sky.jpg"}(e))},c=this.state.activeItem;return Object(s.jsx)("div",{className:"App",style:t,children:Object(s.jsxs)("div",{className:"colorFade",children:["search"===c&&Object(s.jsx)(u,{search:this.state.search,error:this.state.error,change:this.handleInputChange,click:this.handleSearchConfirm,submit:this.handleFormSubmit}),"main"===c&&Object(s.jsxs)("div",{className:"wrap",children:[Object(s.jsx)("button",{className:"showSearch",onClick:this.handleButtonClick,children:Object(s.jsx)("i",{className:"fas fa-search"})}),Object(s.jsx)(j,{charts:this.state.charts})]})]})})}}]),t}(n.a.Component),b=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,16)).then((function(a){var t=a.getCLS,s=a.getFID,c=a.getFCP,n=a.getLCP,r=a.getTTFB;t(e),s(e),c(e),n(e),r(e)}))};i.a.render(Object(s.jsx)(n.a.StrictMode,{children:Object(s.jsx)(p,{})}),document.getElementById("root")),b()}},[[15,1,2]]]);
//# sourceMappingURL=main.67f861a2.chunk.js.map